{% extends 'base.html'%}
{% block title %}
Mercado
{% endblock %}
{% block content %}
{% include 'includes/modals.html' %}
<table class="table table-hover table-dark">
    <thead>
    <tr>
        <!-- columnas -->
        <th scope="col">ID</th>
        <th scope="col">Nombre</th>
        <th scope="col">Locación</th>
        <th scope="col">Precio</th>
        <th scope="col">Posición</th>
        <th scope="col">Nivel</th>
        <th scope="col">Opciones</th>
    </tr>
    </thead>
    <tbody>
    <!-- filas -->
    <!-- se itera por cada producto -->
    {% for item in items %}
    <tr>
        <!-- si el estado de compra del producto entonces se agrega a lista en carrito de compras -->
        {% if item.state == True%}
        <td>{{ item.id }}</td>
        <td>{{ item.name }}</td>
        <td>Pasillo {{ item.pasillo }}</td>
        <td>{{ item.price }}$</td>
        <td>{{ item.posicion[0:2] }}</td>
        <td>{{ item.nivel }}</td>
        <td>
            <!-- boton de remover producto de carrito -->
            <a href="/carrito/{{item.id}}/remove" class="btn btn-outline btn-primary" role="button">Remover</a>
        </td>
        {% endif %}
    </tr>
    {% endfor%}
    <tr>
        <!-- precio total -->
        <th scope="col">Total</th>
        <th scope="col">{{ costo_total }} $</th>
        <th>
            <!-- boton de compra con modal -->
            <button class="btn btn-outline btn-success" role="button" data-toggle="modal" data-target="#Modal-Comprar">Comprar</button>
        </th>
    </tr>
    </tbody>
</table>
{% endblock %}